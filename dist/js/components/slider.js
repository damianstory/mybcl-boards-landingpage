class HeroCarousel { constructor() { this.carousel = document.querySelector('.hero-carousel'); this.track = document.querySelector('.carousel-track'); this.slides = document.querySelectorAll('.carousel-slide'); this.isPaused = false; this.init(); } init() { if (!this.carousel || !this.track || this.slides.length === 0) { console.warn('Hero Carousel: No carousel elements found'); return false; } this.setupHoverControls(); this.preloadImages(); this.setupAccessibility(); return true; } setupHoverControls() { if (window.matchMedia('(hover: hover)').matches) { this.carousel.addEventListener('mouseenter', () => { this.pauseAnimation(); }); this.carousel.addEventListener('mouseleave', () => { this.resumeAnimation(); }); } } pauseAnimation() { this.isPaused = true; if (this.track) { this.track.style.animationPlayState = 'paused'; } } resumeAnimation() { this.isPaused = false; if (this.track) { this.track.style.animationPlayState = 'running'; } } preloadImages() { this.slides.forEach(slide => { const img = slide.querySelector('img'); if (img && !img.complete) { const preloadImg = new Image(); preloadImg.src = img.src; preloadImg.onerror = () => { console.warn(`Hero Carousel: Failed to load image ${img.src}`); }; } }); } setupAccessibility() { if (this.carousel) { this.carousel.setAttribute('aria-label', 'Continuous carousel showing diverse career professionals'); } this.slides.forEach((slide, index) => { const slideNumber = (index % 10) + 1; slide.setAttribute('aria-label', `Career professional ${slideNumber} of 10`); }); } isRunning() { return this.carousel && this.track && !this.isPaused; } getState() { return { isInitialized: !!(this.carousel && this.track && this.slides.length > 0), isPaused: this.isPaused, slideCount: this.slides.length, isVisible: this.carousel ? !this.carousel.hidden : false }; } destroy() { if (this.carousel) { this.carousel.removeEventListener('mouseenter', this.pauseAnimation.bind(this)); this.carousel.removeEventListener('mouseleave', this.resumeAnimation.bind(this)); if (this.track) { this.track.style.animationPlayState = 'paused'; } } this.carousel = null; this.track = null; this.slides = null; } } if (typeof module !== 'undefined' && module.exports) { module.exports = HeroCarousel; } else { window.HeroCarousel = HeroCarousel; }